<html>
	<head>
		<script>
			function testFlash() {
				var support = false;
				//IE only
				if ("ActiveXObject" in window) {
					try {
						support = !!(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"));
					} catch(e) {
						support = false;
					}
				//W3C, better support in legacy browser
				}
				if (!support) {
					support = !!navigator.mimeTypes['application/x-shockwave-flash'];
				}
				return support;
			}
			function makeFlash() {
				document.getElementById("gameContainer").innerHTML='<iframe allowtransparency="true" width="485" height="402" src="//scratch.mit.edu/projects/embed/60115666/?autostart=true" frameborder="0" allowfullscreen></iframe>';
			}
			function makePhosphorus() {
				document.getElementById("gameContainer").innerHTML='<iframe width="482" height="393" class="phosphorus" src="//phosphorus.github.io/embed.html?id=60115666&auto-start=true&light-content=false" allowfullscreen="true" style="border: 0px currentColor; border-image: none;" allowtransparency="true"></iframe>'
			}
		</script>
	</head>
	<body>
		<h1>Geometry Smash</h1>
		<p>
			This is a game made by wizzwizz4. At the bottom of this page there is a survey. After playing the game, please complete the survey.<br />
			The aim of Geometry Smash is to get the blue circle to the green circle. Sounds easy?<br />
			<br />
			To start the game, follow these instructions:<br />
			Press the Tick twice.<br />
			If you have a keyboard, type Computer into the box. Control with arrow keys.<br />
			If you have a touch-screen device, type Touch.<br />
			Then type Circle_grad (yes, grad. Not circle_drag.)<br />
			This enables a joystick-like control method. Drag the grey circle to move it, and move your finger on the background to use the joystick.<br />
			<br />
			Play it here (<a onclick="makeFlash();">Flash</a> / <a onclick="makePhosphorus();">No Flash</a>):
		</p>
		<div id="gameContainer">
			<noscript>
				<!--Just in case Flash works when JavaScript doesn't-->
				<iframe allowtransparency="true" width="485" height="402" src="//scratch.mit.edu/projects/embed/60115666/?autostart=true" frameborder="0" allowfullscreen></iframe>
			</noscript>
		</div>
		<h2>Survey</h2>
		<p>
			<a href="https://colytongrammarschool-my.sharepoint.com/personal/14smould_colytongrammar_devon_sch_uk/_layouts/15/guestaccess.aspx?guestaccesstoken=6JR34xGGDHtQmEBbAXG5MXcRbDGkpwB9imF9dsxyz4A%3d&docid=1_1af2abdbc484d46af9c3e7c84bf3cd32f&wdFormId=%7BE817E2C4%2DE29B%2D4057%2D92B9%2D5301DD49E173%7D">Click here for the survey</a>
			Note: you will have to restart this page.
		</p>
		<script>
			if (testFlash()) {
				makeFlash();
			} else {
				makePhosphorus();
			}
		</script>
	</body>
</html>
